@using Syncfusion.Blazor.Buttons
@using Syncfusion.Blazor.Inputs
@using System.Collections.ObjectModel
@using Syncfusion.Blazor.Lists

@namespace InternshipApp.Portal.Views

<div id="container">
    <div id="sample">
        <SfListView ID="list"
                     DataSource="@Chat"
                     ShowHeader="true"
                     HeaderTitle="IsSender">
            <ListViewFieldSettings TValue="ChatModel" Id="Id" Text="Name"></ListViewFieldSettings>
            <ListViewTemplates TValue="ChatModel">
                <Template>
                    @{
                        var currentData = context as ChatModel;

                        <div class="flex item__container">
                            <div class="flex flex__1 vertical__center flex__center @(currentData.IsSender ? "flex__order__2" : "")">
                                @if (currentData.Avatar != "")
                                {
                                    <span class="e-avatar e-avatar-circle">@currentData.Avatar</span>
                                }
                                else
                                {
                                    <span class="@currentData.Avatar e-avatar e-avatar-circle"></span>
                                }
                            </div>
                            <div class="flex content__container flex__8 vertical padding @(currentData.IsSender ? "right__align" : "left__align")">
                                <div class="bold">@currentData.Name</div>
                                <div class="small__font">@currentData.ChatMessage</div>
                            </div>
                        </div>
                    }
                </Template>
            </ListViewTemplates>
        </SfListView>
        <Stack Style="width:100%" Horizontal>
            <div class="flex__8 padding">
                <SfTextBox Placeholder="Type your message"
                            @ref=@(SfTextBox) />
            </div>
            <div class="flex__1 padding">
                <SfButton Content="Send" OnClick="OnSend" CssClass="send-btn"/>
            </div>
        </Stack>
    </div>
</div>

<style>
    #list {
        box-shadow: 0 1px 4px #ddd;
        border-bottom: 1px solid #ddd;
    }

    .send-btn{
        width: 100%;
    }

    #sample {

        display: block;
    }

    #list {
        margin: 0 auto;
        border: 1px solid #ccc;
    }

        #list .e-list-item {
            height: auto;
            cursor: pointer;
            line-height: 22px;
            padding: 8px;
        }

        #list.e-listview .e-list-header {
            background-color: #0278d7;
            color: white;
        }

        #list .e-list-item.e-active {
            background-color: transparent;
        }


    .padding {
        padding: 4px;
    }

    .right__align {
        text-align: right;
        margin-right: 8px;
        padding-right: 8px;
    }

    .left__align {
        margin-left: 8px;
        padding-left: 8px;
    }

    .content__container {
        background-color: aliceblue;
    }

    .flex {
        display: flex;
    }

    .flex__center {
        justify-content: center;
    }

    .vertical__center {
        align-items: center;
    }

    .vertical {
        flex-direction: column;
    }

    .flex__order__1 {
        order: 1;
    }

    .flex__order__2 {
        order: 2;
    }

    .flex__1 {
        flex: 1;
    }

    .flex__2 {
        flex: 2;
    }

    .flex__3 {
        flex: 3;
    }

    .flex__5 {
        flex: 5;
    }

    .flex__8 {
        flex: 8;
    }

    .bold {
        font-weight: 500;
    }

    .margin {
        margin: 10px;
        width: 350px;
    }

    .small__font {
        font-size: 13px;
        margin: 2px 0;
    }
</style>